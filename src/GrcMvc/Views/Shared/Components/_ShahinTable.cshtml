@*
    SHAHIN AI GRC - Table Component
    Usage: <partial name="Components/_ShahinTable" model='new {
        Headers = new[] { "ID", "Name", "Status" },
        Rows = new[] {
            new[] { "1", "Item 1", "Active" },
            new[] { "2", "Item 2", "Pending" }
        },
        Striped = false,
        Hover = true,
        Id = "myTable"
    }' />
*@
@{
    dynamic model = ViewData.Model ?? new { };
    var headers = model?.Headers as IEnumerable<string> ?? new[] { "Column 1", "Column 2" };
    var rows = model?.Rows as IEnumerable<IEnumerable<string>> ?? new List<List<string>>();
    var striped = model?.Striped ?? false;
    var hover = model?.Hover ?? true;
    var bordered = model?.Bordered ?? true;
    var id = model?.Id ?? "shahinTable" + Guid.NewGuid().ToString("N").Substring(0, 8);
    var cssClass = model?.CssClass ?? "";
    var responsive = model?.Responsive ?? true;

    var tableClass = "shahin-table";
    if (striped) tableClass += " shahin-table-striped";
    if (!string.IsNullOrEmpty(cssClass)) tableClass += " " + cssClass;
}

@if (responsive)
{
    <div class="shahin-table-container">
        <table id="@id" class="@tableClass">
            <thead>
                <tr>
                    @foreach (var header in headers)
                    {
                        <th>@header</th>
                    }
                </tr>
            </thead>
            <tbody>
                @foreach (var row in rows)
                {
                    <tr>
                        @foreach (var cell in row)
                        {
                            <td>@Html.Raw(cell)</td>
                        }
                    </tr>
                }
            </tbody>
        </table>
    </div>
}
else
{
    <table id="@id" class="@tableClass">
        <thead>
            <tr>
                @foreach (var header in headers)
                {
                    <th>@header</th>
                }
            </tr>
        </thead>
        <tbody>
            @foreach (var row in rows)
            {
                <tr>
                    @foreach (var cell in row)
                    {
                        <td>@Html.Raw(cell)</td>
                    }
                </tr>
            }
        </tbody>
    </table>
}
