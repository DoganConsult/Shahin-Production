<script src="~/lib/jquery-validation/dist/jquery.validate.min.js"></script>
<script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>

<script nonce="@ViewData["CSPNonce"]">
    $(document).ready(function () {
        // Configure jQuery Validation defaults
        $.validator.setDefaults({
            errorClass: 'is-invalid',
            validClass: 'is-valid',
            errorElement: 'div',
            errorPlacement: function (error, element) {
                error.addClass('invalid-feedback d-block');
                element.closest('.mb-3, .form-group, .form-check').append(error);
            },
            highlight: function (element, errorClass, validClass) {
                $(element).addClass(errorClass).removeClass(validClass);
            },
            unhighlight: function (element, errorClass, validClass) {
                $(element).removeClass(errorClass).addClass(validClass);
            }
        });

        // Custom validator for MustBeTrue attribute (checkbox must be checked)
        $.validator.addMethod('mustbetrue', function (value, element) {
            return element.checked;
        });
        $.validator.unobtrusive.adapters.addBool('mustbetrue');
    });
</script>