@model IEnumerable<ClientLogoItem>
@using GrcMvc.Controllers
@{
    var logos = Model?.ToList() ?? new List<ClientLogoItem>();
}

@if (logos.Any())
{
    <section class="client-logos-section py-5 border-top border-bottom" style="background: rgba(16, 185, 129, 0.02);">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-10">
                    <div class="text-center mb-4">
                        <p class="text-muted small text-uppercase fw-semibold mb-0">
                            <i class="bi bi-award me-2"></i>
                            @(ViewBag.IsArabic == true ? "موثوق من قبل المؤسسات الرائدة" : "Trusted by Industry Leaders")
                        </p>
                    </div>
                    <div class="d-flex flex-wrap justify-content-center gap-5 align-items-center">
                        @foreach (var logo in logos.Where(l => l.IsFeatured))
                        {
                            <div class="logo-item text-center">
                                @if (!string.IsNullOrEmpty(logo.LogoUrl))
                                {
                                    if (!string.IsNullOrEmpty(logo.WebsiteUrl))
                                    {
                                        <a href="@logo.WebsiteUrl" target="_blank" rel="noopener"
                                           title="@(ViewBag.IsArabic == true ? logo.ClientNameAr ?? logo.ClientName : logo.ClientName)">
                                            <img src="@logo.LogoUrl" alt="@logo.ClientName"
                                                 class="client-logo" style="height: 40px; max-width: 120px; object-fit: contain; filter: grayscale(100%) opacity(0.7); transition: all 0.3s;"
                                                 onmouseover="this.style.filter='grayscale(0) opacity(1)'"
                                                 onmouseout="this.style.filter='grayscale(100%) opacity(0.7)'" />
                                        </a>
                                    }
                                    else
                                    {
                                        <img src="@logo.LogoUrl" alt="@logo.ClientName"
                                             class="client-logo" style="height: 40px; max-width: 120px; object-fit: contain; filter: grayscale(100%) opacity(0.7); transition: all 0.3s;"
                                             onmouseover="this.style.filter='grayscale(0) opacity(1)'"
                                             onmouseout="this.style.filter='grayscale(100%) opacity(0.7)'"
                                             title="@(ViewBag.IsArabic == true ? logo.ClientNameAr ?? logo.ClientName : logo.ClientName)" />
                                    }
                                }
                                else
                                {
                                    <div class="logo-fallback d-flex flex-column align-items-center gap-1 px-3 py-2">
                                        <i class="bi bi-building fs-4 text-muted"></i>
                                        <span class="small text-muted">@(ViewBag.IsArabic == true ? logo.ClientNameAr ?? logo.ClientName : logo.ClientName)</span>
                                    </div>
                                }
                            </div>
                        }
                    </div>
                </div>
            </div>
        </div>
    </section>
}
