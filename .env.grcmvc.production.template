# ═══════════════════════════════════════════════════════════════════════════
# GrcMvc Production Environment Variables Template
# ═══════════════════════════════════════════════════════════════════════════
# 
# INSTRUCTIONS:
# 1. Copy this file to .env.grcmvc.production
# 2. Replace all <PLACEHOLDER> values with actual secrets
# 3. Generate strong passwords using: openssl rand -base64 32
# 4. Never commit .env.grcmvc.production to version control
#
# ═══════════════════════════════════════════════════════════════════════════

# ───────────────────────────────────────────────────────────────────────────
# Application Settings
# ───────────────────────────────────────────────────────────────────────────
ASPNETCORE_ENVIRONMENT=Production
ASPNETCORE_URLS=http://+:80;https://+:443
ALLOWED_HOSTS=localhost,portal.shahin-ai.com,*.shahin-ai.com

# ───────────────────────────────────────────────────────────────────────────
# Database Configuration
# ───────────────────────────────────────────────────────────────────────────
DB_HOST=grcmvc-db
DB_PORT=5432
DB_NAME=GrcMvcDb
DB_USER=grc_user
DB_PASSWORD=<GENERATE_STRONG_PASSWORD>

# Connection String (auto-constructed from above)
CONNECTION_STRING=Host=${DB_HOST};Port=${DB_PORT};Database=${DB_NAME};Username=${DB_USER};Password=${DB_PASSWORD};

# ───────────────────────────────────────────────────────────────────────────
# SSL/TLS Certificate Configuration
# ───────────────────────────────────────────────────────────────────────────
CERT_PASSWORD=SecurePassword123!
ASPNETCORE_Kestrel__Certificates__Default__Password=${CERT_PASSWORD}
ASPNETCORE_Kestrel__Certificates__Default__Path=/app/certificates/aspnetapp.pfx

# ───────────────────────────────────────────────────────────────────────────
# JWT Authentication
# ───────────────────────────────────────────────────────────────────────────
JWT_SECRET=<GENERATE_STRONG_SECRET_MIN_32_CHARS>
JWT_ISSUER=https://portal.shahin-ai.com
JWT_AUDIENCE=GrcMvc
JWT_EXPIRY_MINUTES=60

# ───────────────────────────────────────────────────────────────────────────
# Admin Account (Initial Setup)
# ───────────────────────────────────────────────────────────────────────────
ADMIN_EMAIL=Info@doganconsult.com
ADMIN_PASSWORD=<GENERATE_STRONG_PASSWORD>
ADMIN_FIRST_NAME=Platform
ADMIN_LAST_NAME=Administrator

# ───────────────────────────────────────────────────────────────────────────
# Email Configuration (SMTP)
# ───────────────────────────────────────────────────────────────────────────
EMAIL_ENABLED=true
EMAIL_SENDER=noreply@portal.shahin-ai.com
EMAIL_SENDER_NAME=Shahin GRC Platform
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USERNAME=<SMTP_USERNAME>
EMAIL_PASSWORD=<SMTP_APP_PASSWORD>
EMAIL_USE_SSL=true
EMAIL_USE_TLS=true

# ───────────────────────────────────────────────────────────────────────────
# Redis Cache (Optional - for distributed caching)
# ───────────────────────────────────────────────────────────────────────────
REDIS_ENABLED=false
REDIS_CONNECTION=localhost:6379
REDIS_INSTANCE_NAME=ShahinGrc:
REDIS_PASSWORD=<REDIS_PASSWORD_IF_REQUIRED>

# ───────────────────────────────────────────────────────────────────────────
# OpenIddict SSO Configuration
# ───────────────────────────────────────────────────────────────────────────
OPENIDDICT_ISSUER=https://portal.shahin-ai.com
OPENIDDICT_AUDIENCE=grc-api,GrcMvc

# ───────────────────────────────────────────────────────────────────────────
# File Storage Configuration
# ───────────────────────────────────────────────────────────────────────────
STORAGE_TYPE=Local
STORAGE_PATH=/app/storage
STORAGE_MAX_FILE_SIZE_MB=50

# Azure Blob Storage (if STORAGE_TYPE=Azure)
AZURE_STORAGE_CONNECTION_STRING=<AZURE_CONNECTION_STRING>
AZURE_STORAGE_CONTAINER=grc-evidence

# AWS S3 Storage (if STORAGE_TYPE=S3)
AWS_ACCESS_KEY_ID=<AWS_ACCESS_KEY>
AWS_SECRET_ACCESS_KEY=<AWS_SECRET_KEY>
AWS_REGION=us-east-1
AWS_S3_BUCKET=grc-evidence

# ───────────────────────────────────────────────────────────────────────────
# LLM/AI Configuration
# ───────────────────────────────────────────────────────────────────────────
LLM_PROVIDER=OpenAI
LLM_API_KEY=<OPENAI_API_KEY>
LLM_MODEL=gpt-4
LLM_MAX_TOKENS=2000
LLM_TEMPERATURE=0.7

# Azure OpenAI (if LLM_PROVIDER=AzureOpenAI)
AZURE_OPENAI_ENDPOINT=<AZURE_OPENAI_ENDPOINT>
AZURE_OPENAI_API_KEY=<AZURE_OPENAI_KEY>
AZURE_OPENAI_DEPLOYMENT=<DEPLOYMENT_NAME>

# ───────────────────────────────────────────────────────────────────────────
# Monitoring & Logging
# ───────────────────────────────────────────────────────────────────────────
SERILOG_MINIMUM_LEVEL=Information
SERILOG_FILE_PATH=/app/logs/grcmvc-.log
SERILOG_RETENTION_DAYS=30

# Seq Logging (Optional)
SEQ_ENABLED=false
SEQ_SERVER_URL=http://seq:5341
SEQ_API_KEY=<SEQ_API_KEY>

# Application Insights (Optional)
APPINSIGHTS_ENABLED=false
APPINSIGHTS_INSTRUMENTATION_KEY=<INSTRUMENTATION_KEY>
APPINSIGHTS_CONNECTION_STRING=<CONNECTION_STRING>

# Sentry Error Tracking (Optional)
SENTRY_ENABLED=false
SENTRY_DSN=<SENTRY_DSN>
SENTRY_ENVIRONMENT=production

# ───────────────────────────────────────────────────────────────────────────
# Background Jobs (Hangfire)
# ───────────────────────────────────────────────────────────────────────────
HANGFIRE_ENABLED=true
HANGFIRE_DASHBOARD_ENABLED=true
HANGFIRE_DASHBOARD_PATH=/hangfire
HANGFIRE_WORKER_COUNT=5

# ───────────────────────────────────────────────────────────────────────────
# Kafka Event Streaming (Optional)
# ───────────────────────────────────────────────────────────────────────────
KAFKA_ENABLED=false
KAFKA_BOOTSTRAP_SERVERS=localhost:9092
KAFKA_GROUP_ID=grcmvc-consumer
KAFKA_TOPIC_PREFIX=grc.

# ───────────────────────────────────────────────────────────────────────────
# ClickHouse Analytics (Optional)
# ───────────────────────────────────────────────────────────────────────────
CLICKHOUSE_ENABLED=false
CLICKHOUSE_HOST=localhost
CLICKHOUSE_PORT=8123
CLICKHOUSE_DATABASE=grc_analytics
CLICKHOUSE_USERNAME=default
CLICKHOUSE_PASSWORD=<CLICKHOUSE_PASSWORD>

# ───────────────────────────────────────────────────────────────────────────
# Security Settings
# ───────────────────────────────────────────────────────────────────────────
ENABLE_HTTPS_REDIRECT=true
ENABLE_HSTS=true
ENABLE_RATE_LIMITING=true
RATE_LIMIT_REQUESTS_PER_MINUTE=100
ENABLE_CORS=true
CORS_ALLOWED_ORIGINS=https://portal.shahin-ai.com,https://app.shahin-ai.com

# ───────────────────────────────────────────────────────────────────────────
# Feature Flags
# ───────────────────────────────────────────────────────────────────────────
FEATURE_MULTI_TENANCY=true
FEATURE_AUDIT_LOGGING=true
FEATURE_BACKGROUND_JOBS=true
FEATURE_EMAIL_NOTIFICATIONS=true
FEATURE_AI_AGENTS=false
FEATURE_ADVANCED_ANALYTICS=false

# ───────────────────────────────────────────────────────────────────────────
# Backup Configuration
# ───────────────────────────────────────────────────────────────────────────
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_PATH=/backups/postgresql

# ───────────────────────────────────────────────────────────────────────────
# Health Check Configuration
# ───────────────────────────────────────────────────────────────────────────
HEALTHCHECK_ENABLED=true
HEALTHCHECK_PATH=/health
HEALTHCHECK_DETAILED_PATH=/health/ready

# ───────────────────────────────────────────────────────────────────────────
# Timezone & Localization
# ───────────────────────────────────────────────────────────────────────────
TZ=UTC
DEFAULT_CULTURE=en-US
SUPPORTED_CULTURES=en-US,ar-SA

# ═══════════════════════════════════════════════════════════════════════════
# END OF CONFIGURATION
# ═══════════════════════════════════════════════════════════════════════════
#
# SECURITY CHECKLIST:
# ☐ All <PLACEHOLDER> values replaced with actual secrets
# ☐ Strong passwords generated (min 32 characters)
# ☐ JWT_SECRET is cryptographically secure
# ☐ Database credentials are unique and strong
# ☐ SMTP credentials are configured correctly
# ☐ File permissions set to 600 (chmod 600 .env.grcmvc.production)
# ☐ File is added to .gitignore
# ☐ Backup of this file stored securely (encrypted)
#
# ═══════════════════════════════════════════════════════════════════════════
