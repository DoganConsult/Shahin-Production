{
  "permissions": {
    "allow": [
      "Bash(git add:*)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\ninfra: Add staging environment for CI/CD pipeline\n\n- Staging containers on port 8080\n- Separate database on port 5434\n- Separate Redis on port 6381\n- For testing before production deployment\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git commit -m \"$\\(cat <<''EOF''\ninfra: Add unified Docker setup for Dev/Staging/Prod on same server\n\n3 Separate Docker Environments:\n- Development: port 8888, db:5432\n- Staging: port 8080, db:5434  \n- Production: port 80/443, db:5433\n\nEach environment has:\n- Separate app container\n- Separate PostgreSQL database\n- Separate Redis cache\n- Isolated network\n\nManagement: ./manage.sh [dev|staging|prod|all]\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(dotnet build:*)",
      "Bash(timeout /t 10 /nobreak)",
      "Bash(findstr:*)",
      "Bash(more:*)",
      "Bash(netstat:*)",
      "Bash(curl:*)",
      "Bash(winget install:*)",
      "Bash(taskkill:*)",
      "Bash(powershell.exe -Command \"Start-Process -FilePath ''C:\\\\Program Files \\(x86\\)\\\\cloudflared\\\\cloudflared.exe'' -ArgumentList ''tunnel'',''--no-autoupdate'',''run'',''--token'',''eyJhIjoiNjZiNTFhYzk2OTkxMWQ0MzY0ZjQ4M2Q4ODdhNjZjMGYiLCJ0IjoiZTliOTFhYWUtZDNkYS00MjMwLWE1YjctZTk3MDAzMjExNGFmIiwicyI6IlpqSmxNVEZtTWpRdE9XTmlaaTAwWkRnMExXSm1aVGN0TkdNM1pqQmxPVFJrWkRReiJ9'' -WindowStyle Hidden\")",
      "Bash(git pull:*)",
      "Bash(git reset:*)",
      "Bash(ping:*)",
      "Bash(powershell -Command \"Set-Location ''c:\\\\Shahin-ai\\\\Shahin-Jan-2026\\\\src\\\\GrcMvc''; dotnet run\")",
      "Bash(powershell -Command \"Stop-Process -Name GrcMvc -Force -ErrorAction SilentlyContinue; Start-Sleep -Seconds 2\")",
      "Bash(powershell -Command:*)",
      "Bash(docker exec:*)",
      "Bash(dotnet restore:*)",
      "Bash(for dir in */)",
      "Bash(sort:*)",
      "Bash(docker rm:*)",
      "Bash(docker run:*)",
      "Bash(docker logs:*)",
      "Bash(docker ps:*)",
      "Bash(dir:*)",
      "Bash(docker compose:*)",
      "Bash(dotnet ef database update:*)",
      "Bash(dotnet test:*)",
      "Bash(grep:*)",
      "Bash(kubectl version:*)",
      "Bash(kubectl cluster-info:*)",
      "Bash(systemctl status:*)",
      "Bash(docker --version:*)",
      "Bash(kubectl get:*)",
      "Bash(npm install:*)",
      "Bash(npm run build:*)",
      "Bash(npx next build:*)",
      "Bash(npx tsc:*)",
      "Bash(npm ls:*)",
      "Bash(timeout 20 npm run dev:*)",
      "Bash(Select-String -Pattern \"Failed|Error|Assertion\" -Context 5,2)",
      "Bash(dotnet ef migrations add:*)",
      "Bash(dotnet fsi:*)",
      "Bash(docker-compose:*)",
      "Bash(npm run dev:*)",
      "Bash(docker network inspect:*)",
      "Bash(docker network connect:*)",
      "Bash(docker restart:*)",
      "Bash(helm version:*)",
      "Bash(where:*)",
      "Bash(cmd /c \"where helm\")",
      "Bash(kubectl apply:*)",
      "Bash(kubectl logs:*)",
      "Bash(kubectl delete:*)",
      "Bash(kubectl exec:*)",
      "Bash(kubectl wait:*)",
      "Bash(kubectl scale:*)",
      "Bash(kubectl describe:*)",
      "Bash(docker builder prune:*)",
      "Bash(kubectl rollout:*)",
      "Bash(docker build:*)",
      "Bash(docker images:*)",
      "Bash(python -c \"import yaml; yaml.safe_load\\(open\\(''c:/Shahin-ai/Shahin-Jan-2026/.github/workflows/ci-cd-pipeline.yml''\\)\\)\")",
      "Bash(python -c \"import yaml; yaml.safe_load\\(open\\(''c:/Shahin-ai/Shahin-Jan-2026/.github/workflows/quality-check.yml''\\)\\)\")",
      "Bash(docker tag:*)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nAdd Kubernetes staging and production deployment configurations\n\n- Add staging overlay with 2 replicas, staging-specific settings\n- Add production overlay with 3 replicas, HA features \\(PDB, HPA, anti-affinity\\)\n- Add k8s-deploy.yml GitHub Actions workflow for K8s deployments\n- Fix Docker build to exclude appsettings.Local.json\n- Update appsettings.json with empty connection strings for env var override\n\nDeployment Flow:\n- develop branch → Dev environment\n- staging branch → Staging environment  \n- main branch → Production environment\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(timeout:*)",
      "Bash(if exist .next rmdir /s /q .next)",
      "Bash(git merge:*)",
      "Bash(cut:*)",
      "Bash(docker stats:*)",
      "Bash(Select-String -Pattern \"error|exception|fail|warn|critical\" -CaseSensitive:$false)",
      "Bash(Select-Object -First 30)",
      "Bash(kubectl create secret generic:*)",
      "Bash(kubectl set env:*)",
      "Bash(docker info:*)",
      "Bash(cmd /c \"taskkill /F /PID 126248\")",
      "Bash(cmd /c \"tasklist /FI \"\"IMAGENAME eq GrcMvc.exe\"\"\")",
      "Bash(Get-ChildItem \"c:\\\\Shahin-ai\\\\Shahin-Jan-2026\\\\src\\\\GrcMvc\\\\Controllers\" -Filter \"*.cs\")",
      "Bash(Select-Object -ExpandProperty Name)",
      "Bash(Sort-Object)",
      "Bash(docker start:*)",
      "Bash(az postgres flexible-server db create:*)",
      "Bash(powershell.exe -Command \"az postgres flexible-server db create --resource-group DoganDb --server-name dogandb --database-name shahin_grc\")",
      "Bash(powershell.exe -Command \"az keyvault secret list --vault-name DoganKet --query ''[].name'' -o table\")",
      "Bash(powershell.exe -Command \"Start-Sleep -Seconds 20; Get-Content ''C:\\\\Users\\\\dogan\\\\AppData\\\\Local\\\\Temp\\\\claude\\\\c--Shahin-ai\\\\tasks\\\\bd73b9d.output''\")",
      "Bash(powershell.exe -Command \"Get-Process -Name GrcMvc -ErrorAction SilentlyContinue | Stop-Process -Force\")",
      "Bash(powershell.exe -Command \"Get-Process -Name GrcMvc -ErrorAction SilentlyContinue | Select-Object Id, ProcessName; netstat -ano | Select-String '':5000|:5001|:7189''\")",
      "Bash(powershell.exe -Command \"Start-Sleep -Seconds 30; Get-Content ''C:\\\\Users\\\\dogan\\\\AppData\\\\Local\\\\Temp\\\\claude\\\\c--Shahin-ai\\\\tasks\\\\b8c8b5c.output'' -Tail 30\")",
      "Bash(powershell.exe -Command \"netstat -ano | Select-String '':5000|:5001|:7189''\")",
      "Bash(powershell.exe -Command \"Get-Process -Name GrcMvc -ErrorAction SilentlyContinue | Select-Object Id, ProcessName, StartTime; netstat -ano | Select-String '':5000''\")",
      "Bash(powershell.exe -Command \"Get-Process -Name GrcMvc -ErrorAction SilentlyContinue | Stop-Process -Force; Start-Sleep -Seconds 2\")",
      "Bash(powershell.exe -Command \"cd ''C:\\\\Shahin-ai\\\\Shahin-Jan-2026\\\\src\\\\GrcMvc''; dotnet run --environment Development\")",
      "Bash(powershell.exe -Command \"Start-Sleep -Seconds 25; netstat -ano | Select-String '':5000''\")",
      "Bash(powershell.exe -Command \"Get-Process -Name GrcMvc -ErrorAction SilentlyContinue | Stop-Process -Force; Start-Sleep -Seconds 2; cd ''C:\\\\Shahin-ai\\\\Shahin-Jan-2026\\\\src\\\\GrcMvc''; dotnet run --environment Development\")",
      "Bash(powershell.exe -Command \"Start-Sleep -Seconds 30; Get-Process -Name GrcMvc -ErrorAction SilentlyContinue | Select-Object Id, ProcessName; Get-Content ''C:\\\\Users\\\\dogan\\\\AppData\\\\Local\\\\Temp\\\\claude\\\\c--Shahin-ai\\\\tasks\\\\bc92818.output'' -Tail 20\")",
      "Bash(.output.css$ \")",
      "Bash(find:*)",
      "Bash(for d in */)",
      "Bash(dotnet ef dbcontext script:*)",
      "Bash(Get-Process)",
      "Bash(Where-Object { $_ProcessName -like \"*GrcMvc*\" })",
      "Bash(Select-Object Id, ProcessName, StartTime)",
      "Bash(Format-Table:*)",
      "Bash(git commit --amend -m \"$\\(cat <<''EOF''\nInitial commit: Shahin Public Pages\n\n- Landing page Next.js app with i18n support \\(EN/AR\\)\n- Documentation and setup guides\n- PowerShell scripts for deployment\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(az logout:*)",
      "Bash(az login:*)",
      "Bash(python -c \"\nimport psycopg2\n\nDB_CONFIG = {\n    ''host'': ''caboose.proxy.rlwy.net'',\n    ''port'': 11527,\n    ''database'': ''GrcMvcDb'',\n    ''user'': ''postgres'',\n    ''password'': ''QNcTvViWopMfCunsyIkkXwuDpufzhkLs'',\n    ''sslmode'': ''require''\n}\n\nconn = psycopg2.connect\\(**DB_CONFIG\\)\ncur = conn.cursor\\(\\)\n\nprint\\(''=== TENANT STATUS ===''\\)\ncur.execute\\(''SELECT \"\"Id\"\", \"\"TenantSlug\"\", \"\"OrganizationName\"\", \"\"AdminEmail\"\", \"\"Status\"\", \"\"IsActive\"\", \"\"OnboardingStatus\"\" FROM \"\"Tenants\"\" WHERE \"\"TenantSlug\"\" = %s'', \\(''test-1'',\\)\\)\ntenant = cur.fetchone\\(\\)\nif tenant:\n    print\\(f''ID: {tenant[0]}''\\)\n    print\\(f''Slug: {tenant[1]}''\\)\n    print\\(f''Name: {tenant[2]}''\\)\n    print\\(f''Admin Email: {tenant[3]}''\\)\n    print\\(f''Status: {tenant[4]}''\\)\n    print\\(f''IsActive: {tenant[5]}''\\)\n    print\\(f''Onboarding: {tenant[6]}''\\)\n\nprint\\(''\\\\n=== ADMIN USER STATUS ===''\\)\ncur.execute\\(''SELECT \"\"Id\"\", \"\"Email\"\", \"\"FirstName\"\", \"\"LastName\"\", \"\"IsActive\"\", \"\"MustChangePassword\"\" FROM \"\"ApplicationUser\"\" WHERE \"\"Email\"\" = %s'', \\(''elgazzar082@gmail.com'',\\)\\)\nuser = cur.fetchone\\(\\)\nif user:\n    print\\(f''ID: {user[0]}''\\)\n    print\\(f''Email: {user[1]}''\\)\n    print\\(f''Name: {user[2]} {user[3]}''\\)\n    print\\(f''IsActive: {user[4]}''\\)\n    print\\(f''MustChangePassword: {user[5]}''\\)\n\nprint\\(''\\\\n=== ROLE ASSIGNMENT ===''\\)\ncur.execute\\(''''''\n    SELECT r.\"\"Name\"\" FROM \"\"AspNetRoles\"\" r\n    JOIN \"\"AspNetUserRoles\"\" ur ON r.\"\"Id\"\" = ur.\"\"RoleId\"\"\n    JOIN \"\"AspNetUsers\"\" u ON u.\"\"Id\"\" = ur.\"\"UserId\"\"\n    WHERE u.\"\"Email\"\" = %s\n'''''', \\(''elgazzar082@gmail.com'',\\)\\)\nroles = cur.fetchall\\(\\)\nprint\\(f''Roles: {[r[0] for r in roles]}''\\)\n\nprint\\(''\\\\n=== TENANT-USER LINK ===''\\)\ncur.execute\\(''SELECT \"\"Id\"\", \"\"Status\"\", \"\"RoleCode\"\", \"\"IsOwnerGenerated\"\" FROM \"\"TenantUsers\"\" WHERE \"\"UserId\"\" = %s'', \\(user[0],\\)\\)\ntu = cur.fetchone\\(\\)\nif tu:\n    print\\(f''TenantUser ID: {tu[0]}''\\)\n    print\\(f''Status: {tu[1]}''\\)\n    print\\(f''RoleCode: {tu[2]}''\\)\n    print\\(f''IsOwnerGenerated: {tu[3]}''\\)\n\nprint\\(''\\\\n=== WORKSPACE ===''\\)\ncur.execute\\(''SELECT \"\"Id\"\", \"\"Name\"\", \"\"WorkspaceCode\"\", \"\"Status\"\", \"\"IsDefault\"\" FROM \"\"Workspaces\"\" WHERE \"\"TenantId\"\" = %s'', \\(tenant[0],\\)\\)\nws = cur.fetchone\\(\\)\nif ws:\n    print\\(f''Workspace ID: {ws[0]}''\\)\n    print\\(f''Name: {ws[1]}''\\)\n    print\\(f''Code: {ws[2]}''\\)\n    print\\(f''Status: {ws[3]}''\\)\n    print\\(f''IsDefault: {ws[4]}''\\)\n\nconn.close\\(\\)\n\")",
      "Bash(tasklist:*)",
      "Bash(dotnet publish:*)",
      "Bash(docker cp:*)",
      "Bash($env:UPCLOUD_SSH_HOST = \"95.111.222.132\")",
      "Bash(echo:*)",
      "Bash(del \"C:\\\\Shahin-ai\\\\Shahin-Jan-2026\\\\grc-frontend\\\\src\\\\hooks\\\\usePermissions.ts\")",
      "Bash(npm run start:*)",
      "Bash(ssh:*)",
      "Bash(docker push:*)"
    ]
  }
}
