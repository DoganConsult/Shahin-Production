# ──────────────────────────────────────────────────────────────────────────────
# SHAHIN GRC PLATFORM - ENVIRONMENT CONFIGURATION TEMPLATE
# ──────────────────────────────────────────────────────────────────────────────
# Commit this file. Do NOT commit real secrets in .env
# Copy to .env and replace REPLACE_ME values with actual secrets
# ──────────────────────────────────────────────────────────────────────────────

# ══════════════════════════════════════════════════════════════════════════════
# PORTS (Host-mapped ports for external access)
# ══════════════════════════════════════════════════════════════════════════════
APP_PORT=5010
DB_PORT=5432
REDIS_PORT=6379
ZOOKEEPER_PORT=2181
KAFKA_PORT=9092
KAFKA_UI_PORT=9080
CAMUNDA_PORT=8085
CLICKHOUSE_HTTP_PORT=8123
CLICKHOUSE_NATIVE_PORT=9000
GRAFANA_PORT=3030
SUPERSET_PORT=8088
METABASE_PORT=3033
N8N_PORT=5678

# ══════════════════════════════════════════════════════════════════════════════
# INTERNAL SERVICE HOSTNAMES (Docker network DNS)
# ══════════════════════════════════════════════════════════════════════════════
DB_HOST=db
REDIS_HOST=redis

# ══════════════════════════════════════════════════════════════════════════════
# CORE DATABASE CONFIGURATION
# ══════════════════════════════════════════════════════════════════════════════
DB_USER=shahin_admin
DB_PASSWORD=REPLACE_ME
DB_NAME=GrcMvcDb
DB_AUTH_NAME=GrcAuthDb

# ══════════════════════════════════════════════════════════════════════════════
# ASP.NET CORE
# ══════════════════════════════════════════════════════════════════════════════
ASPNETCORE_ENVIRONMENT=Development
ASPNETCORE_URLS=http://+:80
ALLOWED_HOSTS=*

# ══════════════════════════════════════════════════════════════════════════════
# JWT & AUTHENTICATION
# ══════════════════════════════════════════════════════════════════════════════
JWT_SECRET=REPLACE_ME_MIN_32_CHARS
JwtSettings__ExpirationInMinutes=60

# Public URLs (external access)
JwtSettings__Issuer=http://localhost:5010
JwtSettings__Audience=http://localhost:5010
AuthServer__Authority=http://localhost:5010/
AuthServer__RequireHttpsMetadata=false

# App URLs
App__SelfUrl=http://localhost:5010
App__ClientUrl=http://localhost:5010
App__CorsOrigins=http://localhost:5010

# ══════════════════════════════════════════════════════════════════════════════
# CONNECTION STRINGS (derived from DB_HOST/REDIS_HOST)
# ══════════════════════════════════════════════════════════════════════════════
ConnectionStrings__DefaultConnection=Host=db;Port=5432;Database=GrcMvcDb;Username=shahin_admin;Password=REPLACE_ME;
ConnectionStrings__GrcAuthDb=Host=db;Port=5432;Database=GrcAuthDb;Username=shahin_admin;Password=REPLACE_ME;
ConnectionStrings__HangfireConnection=Host=db;Port=5432;Database=GrcMvcDb;Username=shahin_admin;Password=REPLACE_ME;
ConnectionStrings__Redis=redis:6379
Redis__ConnectionString=redis:6379

# ══════════════════════════════════════════════════════════════════════════════
# CLAUDE AI AGENTS
# ══════════════════════════════════════════════════════════════════════════════
ClaudeAgents__Enabled=true
CLAUDE_API_KEY=REPLACE_ME_GET_FROM_ANTHROPIC_CONSOLE
CLAUDE_MODEL=claude-sonnet-4-20250514

# ══════════════════════════════════════════════════════════════════════════════
# HANGFIRE
# ══════════════════════════════════════════════════════════════════════════════
HANGFIRE_DASHBOARD_ENABLED=true

# ══════════════════════════════════════════════════════════════════════════════
# FEATURE FLAGS
# ══════════════════════════════════════════════════════════════════════════════
Features__OnboardingEnabled=true
Features__AIAgentsEnabled=true
Features__AnalyticsEnabled=true
Features__MultiTenancyEnabled=true
MultiTenancy__IsEnabled=true

# ══════════════════════════════════════════════════════════════════════════════
# ANALYTICS - CLICKHOUSE
# ══════════════════════════════════════════════════════════════════════════════
CLICKHOUSE_DB=grc_analytics
CLICKHOUSE_USER=grc_analytics
CLICKHOUSE_PASSWORD=REPLACE_ME

# ══════════════════════════════════════════════════════════════════════════════
# ANALYTICS - GRAFANA
# ══════════════════════════════════════════════════════════════════════════════
GF_SECURITY_ADMIN_USER=admin
GF_SECURITY_ADMIN_PASSWORD=REPLACE_ME
GF_INSTALL_PLUGINS=grafana-clickhouse-datasource

# ══════════════════════════════════════════════════════════════════════════════
# ANALYTICS - SUPERSET
# Note: Password must be URL-encoded in DATABASE_URL (@ -> %40, ! -> %21)
# ══════════════════════════════════════════════════════════════════════════════
SUPERSET_SECRET_KEY=REPLACE_ME
SUPERSET_ADMIN_USER=admin
SUPERSET_ADMIN_PASSWORD=REPLACE_ME
SUPERSET_ADMIN_EMAIL=admin@shahin-ai.com

# ══════════════════════════════════════════════════════════════════════════════
# ANALYTICS - METABASE
# ══════════════════════════════════════════════════════════════════════════════
MB_DB_TYPE=postgres
MB_DB_DBNAME=metabase
MB_DB_PORT=5432
MB_DB_USER=shahin_admin
MB_DB_PASS=REPLACE_ME
MB_DB_HOST=db

# ══════════════════════════════════════════════════════════════════════════════
# WORKFLOW ENGINES
# ══════════════════════════════════════════════════════════════════════════════
CAMUNDA_USERNAME=demo
CAMUNDA_PASSWORD=demo

N8N_BASIC_AUTH_ACTIVE=true
N8N_BASIC_AUTH_USER=admin
N8N_BASIC_AUTH_PASSWORD=REPLACE_ME
N8N_ENCRYPTION_KEY=REPLACE_ME
WEBHOOK_URL=http://localhost:5678
GENERIC_TIMEZONE=UTC

# ══════════════════════════════════════════════════════════════════════════════
# EMAIL (Office 365 with OAuth2) - Optional
# ══════════════════════════════════════════════════════════════════════════════
SMTP_SERVER=smtp.office365.com
SMTP_PORT=587
SMTP_USERNAME=REPLACE_ME
SMTP_PASSWORD=REPLACE_ME
SMTP_FROM_EMAIL=REPLACE_ME
SMTP_CLIENT_ID=REPLACE_ME
SMTP_CLIENT_SECRET=REPLACE_ME

# ══════════════════════════════════════════════════════════════════════════════
# AZURE AD / MICROSOFT ENTRA ID - Optional
# ══════════════════════════════════════════════════════════════════════════════
AZURE_TENANT_ID=REPLACE_ME
AZURE_CLIENT_ID=REPLACE_ME
AZURE_CLIENT_SECRET=REPLACE_ME

# ══════════════════════════════════════════════════════════════════════════════
# COPILOT AGENT - Optional
# ══════════════════════════════════════════════════════════════════════════════
COPILOT_CLIENT_ID=REPLACE_ME
COPILOT_CLIENT_SECRET=REPLACE_ME
