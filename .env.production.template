# ══════════════════════════════════════════════════════════════
# Shahin AI - Production Environment Configuration
# ══════════════════════════════════════════════════════════════
# Copy this file to .env.production and configure all values
# DO NOT commit .env.production to version control
# ══════════════════════════════════════════════════════════════

# ════════════════════════════════════════════════════════════
# DATABASE CONFIGURATION
# ════════════════════════════════════════════════════════════

# PostgreSQL Database Settings
DB_HOST=localhost
DB_PORT=5432
DB_USER=shahin_admin
DB_PASSWORD=CHANGE_THIS_STRONG_PASSWORD
DB_NAME=GrcMvcDb

# Connection Strings (Auto-generated from above)
ConnectionStrings__DefaultConnection=Host=${DB_HOST};Port=${DB_PORT};Database=${DB_NAME};Username=${DB_USER};Password=${DB_PASSWORD};SSL Mode=Require;Trust Server Certificate=true
ConnectionStrings__GrcAuthDb=Host=${DB_HOST};Port=${DB_PORT};Database=${DB_NAME}_auth;Username=${DB_USER};Password=${DB_PASSWORD};SSL Mode=Require;Trust Server Certificate=true
ConnectionStrings__HangfireConnection=Host=${DB_HOST};Port=${DB_PORT};Database=${DB_NAME}_jobs;Username=${DB_USER};Password=${DB_PASSWORD};SSL Mode=Require;Trust Server Certificate=true

# ════════════════════════════════════════════════════════════
# AUTHENTICATION & SECURITY
# ════════════════════════════════════════════════════════════

# JWT Token Configuration
JWT_SECRET=CHANGE_THIS_TO_A_256_BIT_RANDOM_STRING_GENERATED_WITH_OPENSSL_RAND_HEX_32
JWT_ISSUER=https://portal.shahin-ai.com
JWT_AUDIENCE=shahin-grc-users
JWT_EXPIRY_MINUTES=60

# Session Management
SESSION_TIMEOUT_MINUTES=480
MAX_CONCURRENT_SESSIONS=5

# ════════════════════════════════════════════════════════════
# EMAIL CONFIGURATION
# ════════════════════════════════════════════════════════════

# SMTP Settings (Office 365)
SMTP_HOST=smtp.office365.com
SMTP_PORT=587
SMTP_ENABLE_SSL=true
SMTP_USERNAME=info@shahin-ai.com
SMTP_PASSWORD=CHANGE_THIS_SMTP_PASSWORD
SMTP_FROM_EMAIL=info@shahin-ai.com
SMTP_FROM_NAME=Shahin AI GRC System

# Email Templates
EMAIL_VERIFICATION_SUBJECT=Verify Your Shahin AI Account
EMAIL_WELCOME_SUBJECT=Welcome to Shahin AI GRC Platform

# ════════════════════════════════════════════════════════════
# AZURE INTEGRATION (Optional)
# ════════════════════════════════════════════════════════════

# Azure AD Configuration
AZURE_TENANT_ID=your-azure-tenant-id
AZURE_CLIENT_ID=your-azure-client-id
AZURE_CLIENT_SECRET=your-azure-client-secret

# Microsoft Graph API
MSGRAPH_CLIENT_ID=${AZURE_CLIENT_ID}
MSGRAPH_CLIENT_SECRET=${AZURE_CLIENT_SECRET}
MSGRAPH_APP_ID_URI=api://shahin-ai.com/${AZURE_CLIENT_ID}

# ════════════════════════════════════════════════════════════
# AI INTEGRATION (Optional)
# ════════════════════════════════════════════════════════════

# Claude AI Configuration
CLAUDE_ENABLED=false
CLAUDE_API_KEY=your-claude-api-key-here
ClaudeAgents__ApiKey=${CLAUDE_API_KEY}
ClaudeAgents__Enabled=${CLAUDE_ENABLED}
ClaudeAgents__Model=claude-sonnet-4-20250514
ClaudeAgents__MaxTokens=4096
ClaudeAgents__Temperature=0.7

# ════════════════════════════════════════════════════════════
# REDIS CACHE
# ════════════════════════════════════════════════════════════

# Redis Configuration
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
ConnectionStrings__Redis=${REDIS_HOST}:${REDIS_PORT}

# ════════════════════════════════════════════════════════════
# APPLICATION SETTINGS
# ════════════════════════════════════════════════════════════

# Application URLs
App__BaseUrl=https://portal.shahin-ai.com
App__LandingUrl=https://www.shahin-ai.com
App__ActivationTokenExpiryHours=48

# Feature Flags
GrcFeatureFlags__UseSecurePasswordGeneration=true
GrcFeatureFlags__UseSessionBasedClaims=true
GrcFeatureFlags__UseEnhancedAuditLogging=true
GrcFeatureFlags__UseDeterministicTenantResolution=true
GrcFeatureFlags__DisableDemoLogin=true
GrcFeatureFlags__EnableTrialSignup=true
GrcFeatureFlags__RequirePaymentVerificationForTrial=false
GrcFeatureFlags__ShowTrialEditionBanner=false
GrcFeatureFlags__AllowDemoLoginInProduction=false

# ════════════════════════════════════════════════════════════
# CLOUDFLARE INTEGRATION
# ════════════════════════════════════════════════════════════

# Cloudflare Tunnel
CLOUDFLARE_TUNNEL_TOKEN=your-cloudflare-tunnel-token
CLOUDFLARE_ZONE_ID=your-cloudflare-zone-id

# ════════════════════════════════════════════════════════════
# MONITORING & LOGGING
# ════════════════════════════════════════════════════════════

# Application Insights (Optional)
APPLICATIONINSIGHTS_CONNECTION_STRING=

# Log Level
Logging__LogLevel__Default=Warning
Logging__LogLevel__Microsoft=Warning
Logging__LogLevel__Microsoft.AspNetCore=Warning

# ════════════════════════════════════════════════════════════
# BACKUP & MAINTENANCE
# ════════════════════════════════════════════════════════════

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_DIRECTORY=/var/backups/shahin
BACKUP_RETENTION_DAYS=30
BACKUP_SCHEDULE=daily

# ════════════════════════════════════════════════════════════
# SECURITY SETTINGS
# ════════════════════════════════════════════════════════════

# Password Policy
Security__PasswordHistory__HistoryCount=5
Security__PasswordHistory__RetentionLimit=10
Security__Session__MaxConcurrentSessions=5

# CAPTCHA (Optional)
Security__Captcha__Enabled=false
Security__Captcha__Provider=reCAPTCHA
Security__Captcha__SiteKey=
Security__Captcha__SecretKey=

# ════════════════════════════════════════════════════════════
# FILE STORAGE
# ════════════════════════════════════════════════════════════

# File Upload Settings
FILE_STORAGE_PROVIDER=LocalFileSystem
FILE_STORAGE_BASE_PATH=/var/www/shahin-ai/storage
MAX_FILE_SIZE_MB=50
ALLOWED_FILE_TYPES=pdf,doc,docx,xls,xlsx,ppt,pptx,txt,jpg,jpeg,png,gif

# ════════════════════════════════════════════════════════════
# RATE LIMITING
# ════════════════════════════════════════════════════════════

# API Rate Limits
RATE_LIMIT_ENABLED=true
RATE_LIMIT_LOGIN_ATTEMPTS=5
RATE_LIMIT_LOGIN_WINDOW_MINUTES=15
RATE_LIMIT_API_REQUESTS=1000
RATE_LIMIT_API_WINDOW_MINUTES=60

# ════════════════════════════════════════════════════════════
# CONTAINER CONFIGURATION
# ════════════════════════════════════════════════════════════

# Docker Settings
COMPOSE_PROJECT_NAME=shahin-production
DOCKER_NETWORK=shahin-network

# ════════════════════════════════════════════════════════════
# DEVELOPMENT SETTINGS (Set to false in production)
# ════════════════════════════════════════════════════════════

# Debug Mode
ASPNETCORE_ENVIRONMENT=Production
ASPNETCORE_DETAILEDERRORS=false
ASPNETCORE_LOGGING_CONSOLE_ENABLED=false

# ════════════════════════════════════════════════════════════
# VALIDATION CHECKLIST
# ════════════════════════════════════════════════════════════
# Before deploying, ensure all CHANGE_THIS values are updated:
# - DB_PASSWORD: Strong password for database
# - JWT_SECRET: 256-bit random string (openssl rand -hex 32)
# - SMTP_PASSWORD: Office 365 app password
# - AZURE_* : Azure AD configuration (if using SSO)
# - CLAUDE_API_KEY: Anthropic API key (if using AI features)
# - CLOUDFLARE_TUNNEL_TOKEN: Cloudflare tunnel token
# ════════════════════════════════════════════════════════════
