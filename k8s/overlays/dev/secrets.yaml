# =============================================================================
# DEVELOPMENT SECRETS - Shahin GRC Platform
# =============================================================================
# INSTRUCTIONS:
# 1. Copy this file to secrets.local.yaml (gitignored)
# 2. Update all values marked with "CHANGE_ME"
# 3. Apply with: kubectl apply -f secrets.local.yaml
#
# For dev environment, you can use simpler passwords for convenience
# =============================================================================
---
apiVersion: v1
kind: Secret
metadata:
  name: db-credentials
  namespace: shahin-grc-dev
  labels:
    environment: development
type: Opaque
stringData:
  # PostgreSQL credentials
  POSTGRES_USER: "shahin_admin"
  POSTGRES_PASSWORD: "DevDb2026!"              # OK for dev
  POSTGRES_DB: "GrcMvcDb"

  # Replication (used in HA setups, but still needed)
  REPLICATION_USER: "replicator"
  REPLICATION_PASSWORD: "DevReplica2026!"      # OK for dev

  # Connection strings (update host if using different setup)
  CONNECTION_STRING: "Host=dev-postgres;Database=GrcMvcDb;Username=shahin_admin;Password=DevDb2026!;Port=5432"
  AUTH_CONNECTION_STRING: "Host=dev-postgres;Database=GrcAuthDb;Username=shahin_admin;Password=DevDb2026!;Port=5432"
---
apiVersion: v1
kind: Secret
metadata:
  name: jwt-secret
  namespace: shahin-grc-dev
  labels:
    environment: development
type: Opaque
stringData:
  # JWT Configuration (longer expiry for dev convenience)
  JWT_SECRET: "dev-local-jwt-secret-key-for-development-only-2026"
  JWT_ISSUER: "shahin-grc-dev"
  JWT_AUDIENCE: "shahin-grc-dev-users"
  JWT_EXPIRY_MINUTES: "480"                    # 8 hours for dev
---
apiVersion: v1
kind: Secret
metadata:
  name: claude-api-key
  namespace: shahin-grc-dev
  labels:
    environment: development
type: Opaque
stringData:
  # Claude AI Configuration
  # Get your API key from: https://console.anthropic.com/
  CLAUDE_API_KEY: "sk-ant-api03-CHANGE_ME"     # REQUIRED: Your Anthropic API key
  CLAUDE_MODEL: "claude-sonnet-4-5-20250514"
  CLAUDE_ENABLED: "true"
---
apiVersion: v1
kind: Secret
metadata:
  name: redis-password
  namespace: shahin-grc-dev
  labels:
    environment: development
type: Opaque
stringData:
  REDIS_PASSWORD: "DevRedis2026!"              # OK for dev
  REDIS_CONNECTION: "dev-redis-master:6379,password=DevRedis2026!"
---
# Docker registry secret for pulling images from GHCR
# Generate with:
#   kubectl create secret docker-registry ghcr-secret \
#     --docker-server=ghcr.io \
#     --docker-username=YOUR_GITHUB_USERNAME \
#     --docker-password=YOUR_GITHUB_PAT \
#     --namespace=shahin-grc-dev \
#     --dry-run=client -o yaml
apiVersion: v1
kind: Secret
metadata:
  name: ghcr-secret
  namespace: shahin-grc-dev
  labels:
    environment: development
type: kubernetes.io/dockerconfigjson
stringData:
  .dockerconfigjson: |
    {
      "auths": {
        "ghcr.io": {
          "username": "CHANGE_ME_GITHUB_USERNAME",
          "password": "CHANGE_ME_GITHUB_PAT",
          "auth": ""
        }
      }
    }
